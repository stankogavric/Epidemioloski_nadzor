<mat-accordion class="containter">
    <mat-expansion-panel [expanded]="expensionPanelState" (opened)="expensionPanelState=true">
        <mat-expansion-panel-header>
            <mat-panel-title *ngIf="dataSource.length > 0">
                Pacijent: {{activePatient.personalInfo.firstname}} {{activePatient.personalInfo.lastname}} {{activePatient.personalInfo.address.city}}
            </mat-panel-title>
            <mat-panel-title *ngIf="dataSource.length == 0">
              Nema pacijenata u va≈°oj okolini
          </mat-panel-title>
            <mat-panel-description>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <div class="example-table-container">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%; ">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->
          
            <!-- Position Column -->
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef> Status </th>
              <td mat-cell *matCellDef="let element"> {{element.countryOfImport}} </td>
            </ng-container>
          
            <!-- Name Column -->
            <ng-container matColumnDef="firstName">
              <th mat-header-cell *matHeaderCellDef> Ime </th>
              <td mat-cell *matCellDef="let element"> {{element.personalInfo.firstname}} </td>
            </ng-container>
          
            <!-- Weight Column -->
            <ng-container matColumnDef="lastName">
              <th mat-header-cell *matHeaderCellDef> Prezime </th>
              <td mat-cell *matCellDef="let element"> {{element.personalInfo.lastname}} </td>
            </ng-container>
          
            <!-- Symbol Column -->
            <ng-container matColumnDef="city">
              <th mat-header-cell *matHeaderCellDef> Grad </th>
              <td mat-cell *matCellDef="let element"> {{element.personalInfo.address.city}} </td>
            </ng-container>
          
            <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
            <tr mat-row *matRowDef="let row; columns: displayedColumns;let i = index;" (click)="selectPatient(row);selectedRowIndex = i;" [ngClass]="{'highlight': selectedRowIndex == i}" style="cursor:pointer"></tr>
          </table>
        </div>
    </mat-expansion-panel>
</mat-accordion>

<button class="mat-mini-fab backIcon" mat-raised-button color="accent" (click)="onBack()"><mat-icon>arrow_back</mat-icon></button>
<button class="mat-mini-fab profileIcon" mat-raised-button color="accent" (click)="openPatient()" *ngIf="dataSource.length > 0"><mat-icon style="color:black">portrait</mat-icon></button>
<div #mapContainer id="map"></div>